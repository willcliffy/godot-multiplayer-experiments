FROM golang:1.19

RUN mkdir -p /app
WORKDIR /app

ADD . /app

RUN ["go", "install", "github.com/githubnemo/CompileDaemon@v1.4.0"]
RUN go build -o /dist/app /app/main.go

EXPOSE 8080
CMD ["/dist/app"]
